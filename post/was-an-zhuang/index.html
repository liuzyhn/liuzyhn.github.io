<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>waså®‰è£… | å­¦æ— æ­¢å¢ƒ</title>
<meta name="description" content="äººç”Ÿä¸ç©·,
æœ‰å¿—ä¸ºæ ¹.
å­¦æµ·æ— æ¶¯,å”¯å‹¤æ˜¯å²¸.">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://blog.liuzyhn.top/favicon.ico?v=1566744514455">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://blog.liuzyhn.top/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://blog.liuzyhn.top">
        <img src="https://blog.liuzyhn.top/images/avatar.png?v=1566744514455" class="site-logo">
        <h1 class="site-title">å­¦æ— æ­¢å¢ƒ</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            å…³äº
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      äººç”Ÿä¸ç©·,
æœ‰å¿—ä¸ºæ ¹.
å­¦æµ·æ— æ¶¯,å”¯å‹¤æ˜¯å²¸.
    </div>
    <div class="site-footer">
      ä¸­å›½ ğŸ‡¨ğŸ‡³ | <a class="rss" href="https://blog.liuzyhn.top/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">waså®‰è£…</h2>
            <div class="post-date">2019-08-25</div>
            
            <div class="post-content">
              <h1 id="waså®‰è£…">waså®‰è£…</h1>
<h2 id="ä¸€-ç½‘ç»œå·¥å…·ç­‰å®‰è£…">ä¸€. ç½‘ç»œå·¥å…·ç­‰å®‰è£…ï¼š</h2>
<pre><code>yum install -y gcc make crypto-utils net-tools wget zip unzip
</code></pre>
<h2 id="äºŒ-iim-ibm-installation-manager-å®‰è£…">äºŒ. IIM (IBM Installation Manager) å®‰è£…</h2>
<h3 id="å®‰è£…åŒ…">å®‰è£…åŒ…ï¼š</h3>
<pre><code>package/agent/agent.installer.linux.gtk.x86_64_1.8.9002.20181015_1517.zip
</code></pre>
<h3 id="å®‰è£…å‘½å®š">å®‰è£…å‘½å®šï¼š</h3>
<pre><code>./con-disk-set-inst.sh -silent -acceptLicense -nl zh -installationDirectory /opt/IBM/InstallationManager/eclipse
</code></pre>
<p>ç¬¬1æ­¥å“åº”</br><img src="https://blog.liuzyhn.top/post-images/was/agent1.png" alt=""></br><br>
è¾“å…¥ <code>N</code> å›è½¦</p>
<p>ç¬¬2æ­¥å“åº”</br><img src="https://blog.liuzyhn.top/post-images/was/agent2.png" alt=""></br><br>
è¾“å…¥ <code>A</code> å›è½¦</p>
<p>ç¬¬3æ­¥å“åº”</br><img src="https://blog.liuzyhn.top/post-images/was/agent3.png" alt=""></br><br>
è¾“å…¥ <code>A</code> å›è½¦</p>
<p>ç¬¬4æ­¥å“åº”</br><img src="https://blog.liuzyhn.top/post-images/was/agent4.png" alt=""></br><br>
è¾“å…¥ <code>N</code> å›è½¦</p>
<p>ç¬¬5æ­¥å“åº”</br><img src="https://blog.liuzyhn.top/post-images/was/agent5.png" alt=""></br><br>
è¾“å…¥ <code>N</code> å›è½¦</p>
<p>ç¬¬6æ­¥å“åº”</br><img src="https://blog.liuzyhn.top/post-images/was/agent6.png" alt=""></br><br>
è¾“å…¥ <code>I</code> å›è½¦</p>
<p>ç¬¬7æ­¥å“åº”</br><img src="https://blog.liuzyhn.top/post-images/was/agent7.png" alt=""></br><br>
è¾“å…¥ <code>R</code> å›è½¦</p>
<p>ç¬¬8æ­¥å“åº”</br><img src="https://blog.liuzyhn.top/post-images/was/agent8.png" alt=""></br><br>
è¾“å…¥ <code>X</code> å›è½¦</p>
<p>å®‰è£…å®Œæˆ</p>
<h2 id="ä¸‰-å®‰è£…ä»‹è´¨åŒ…">ä¸‰. å®‰è£…ä»‹è´¨åŒ…</h2>
<ol>
<li>
<p>å®‰è£…åŒ…ï¼š</p>
<p>package/jzb/WASND_v8.5.5_1of3.zip </br><br>
package/jzb/WASND_v8.5.5_2of3.zip </br><br>
package/jzb/WASND_v8.5.5_3of3.zip </br></p>
</li>
<li>
<p>è§£å‹ä»‹è´¨åŒ…åˆ°ï¼š /opt/package/was/jzb/WASND_v8.5.5</p>
</li>
<li>
<p>è§£å‹å®Œæ–‡ä»¶åˆ—è¡¨<img src="https://blog.liuzyhn.top/post-images/was/wasnd.png" alt=""></p>
</li>
<li>
<p>è·å–è½¯ä»¶åŒ…æ ‡è¯†ï¼Œä¸‹é¢å®‰è£…éœ€è¦ç”¨åˆ°æ­¤å‚æ•°ï¼š</p>
</li>
</ol>
<pre><code>cd /opt/IBM/InstallationManager/eclipse/tools
./imcl listAvailablePackages -repositories /opt/package/was/jzb/WASND_v8.5.5
</code></pre>
<p>æ‰§è¡Œç»“æœ<img src="https://blog.liuzyhn.top/post-images/was/wasnd1.png" alt=""></p>
<ol start="5">
<li>å®‰è£…wasä»‹è´¨åŒ…</li>
</ol>
<pre><code>cd /opt/IBM/InstallationManager/eclipse/tools
./imcl install com.ibm.websphere.ND.v85_8.5.5000.20130514_1044 \
-repositories /opt/package/was/jzb/WASND_v8.5.5/repository.config \
-installationDirectory /opt/IBM/WebSphere/AppServer \
-sharedResourcesDirectory /opt/IBM/IMShared \
-properties cic.selector.nl=zh \
-acceptLicense \
-showVerboseProgress
</code></pre>
<p>æ‰§è¡Œç»“æœ,æœ‰ä¸ªè­¦å‘Šä¸å½±å“<img src="https://blog.liuzyhn.top/post-images/was/wasnd2.png" alt=""></p>
<h2 id="å››-é€šè¿‡å‡çº§åŒ…å‡çº§åˆ°-85514">å››. é€šè¿‡å‡çº§åŒ…å‡çº§åˆ° 8.5.5.14</h2>
<ol>
<li>å‡çº§åŒ…ä¸‹è½½åœ°å€ï¼š</li>
</ol>
<pre><code>https://ak-delivery04-mul.dhe.ibm.com/sar/CMA/WSA/07qzk/0/8.5.5-WS-WAS-FP014-part1.zip
https://ak-delivery04-mul.dhe.ibm.com/sar/CMA/WSA/07qzo/0/8.5.5-WS-WAS-FP014-part2.zip
https://ak-delivery04-mul.dhe.ibm.com/sar/CMA/WSA/07qzp/0/8.5.5-WS-WAS-FP014-part3.zip
</code></pre>
<ol start="2">
<li>
<p>å‡çº§åŒ…ï¼š<br>
package/fix/8.5.5-WS-WAS-FP014-part1.zip<br>
package/fix/8.5.5-WS-WAS-FP014-part2.zip<br>
package/fix/8.5.5-WS-WAS-FP014-part3.zip</p>
</li>
<li>
<p>è§£å‹ååˆ°ï¼š /opt/package/was/fix/85514was</p>
</li>
</ol>
<p>è§£å‹åå†…å®¹<img src="https://blog.liuzyhn.top/post-images/was/85514was.png" alt=""></p>
<ol start="4">
<li>å®‰è£…å‡çº§åŒ…ï¼š</li>
</ol>
<pre><code>cd /opt/IBM/InstallationManager/eclipse/tools
./imcl updateAll \
-repositories /opt/package/was/fix/85514was/repository.config \
-installationDirectory /opt/IBM/WebSphere/AppServer/ \
-acceptLicense \
-showVerboseProgress
</code></pre>
<p>æ‰§è¡Œç»“æœ<img src="https://blog.liuzyhn.top/post-images/was/85514was-update.png" alt=""></p>
<ol start="5">
<li>å®‰è£…æˆåŠŸåï¼ŒæŸ¥çœ‹wasç‰ˆæœ¬æ˜¯å¦ä¸º8.5.5.2ï¼š</li>
</ol>
<pre><code>cd /opt/IBM/WebSphere/AppServer/bin/
./versionInfo.sh
</code></pre>
<p>æ‰§è¡Œç»“æœ<img src="https://blog.liuzyhn.top/post-images/was/versionInfo.png" alt=""></p>
<h2 id="äº”-wasç”¨å‘½ä»¤åˆ›å»ºèŠ‚ç‚¹">äº”. WASç”¨å‘½ä»¤åˆ›å»ºèŠ‚ç‚¹</h2>
<ol>
<li>åˆ©ç”¨æ¨¡æ¿åˆ›å»ºprofile dmgr</li>
</ol>
<pre><code>cd /opt/IBM/WebSphere/AppServer/bin/
./manageprofiles.sh -create \
-templatePath /opt/IBM/WebSphere/AppServer/profileTemplates/dmgr \
-profilePath /opt/IBM/WebSphere/AppServer/profiles/Dmgr01 \
-enableAdminSecurity true \
-profileName Dmgr01 \
-adminUserName admin \
-adminPassword 11111
</code></pre>
<p><code>hostname</code> æŒ‡çš„æ˜¯ä¸»æœºå</p>
<p>æ‰§è¡Œç»“æœ<img src="https://blog.liuzyhn.top/post-images/was/profile-dmgr1.png" alt=""></p>
<p>æ¦‚è¦æ–‡ä»¶çš„æ›´å¤šä¿¡æ¯ï¼ŒæŸ¥é˜…:</p>
<p>cat /opt/IBM/WebSphere/AppServer/profiles/Dmgr01/logs/AboutThisProfile.txt</p>
<p>æŸ¥é˜…ç»“æœ<img src="https://blog.liuzyhn.top/post-images/was/dmgr01-AboutThisProfile.png" alt=""></p>
<ol start="2">
<li>å¯åŠ¨ profile dmgr</li>
</ol>
<pre><code>cd /opt/IBM/WebSphere/AppServer/profiles/Dmgr01/bin/
./startManager.sh
</code></pre>
<p>æ‰§è¡Œç»“æœ<img src="https://blog.liuzyhn.top/post-images/was/dmgr-start.png" alt=""></p>
<ol start="2">
<li>
<p>å»ºç«‹customçš„profile<br>
https://www.cnblogs.com/lyr2012/archive/2012/06/12/2546300.html</p>
<p>ä½¿ç”¨çš„æ¨¡ç‰ˆä¸º /opt/IBM/WebSphere/AppServer/profileTemplates/managed</p>
</li>
</ol>
<pre><code>cd /opt/IBM/WebSphere/AppServer/bin/
./manageprofiles.sh -create \
-templatePath /opt/IBM/WebSphere/AppServer/profileTemplates/managed \
-profilePath /opt/IBM/WebSphere/AppServer/profiles/AppSrv01 \
-profileName AppSrv01

cd /opt/IBM/WebSphere/AppServer/profiles/AppSrv01/bin
./addNode.sh 127.0.0.1 -username admin -password 11111
</code></pre>
<p>172.31.142.156 æ˜¯æœåŠ¡å™¨ip</p>
<p>å»ºç«‹customçš„profileç»“æœ <img src="https://blog.liuzyhn.top/post-images/was/appsrv01.png" alt=""><br>
æ·»åŠ èŠ‚ç‚¹ç»“æœ <img src="https://blog.liuzyhn.top/post-images/was/addnode1.png" alt=""></p>
<ol start="3">
<li>å¯åŠ¨AppSrv01èŠ‚ç‚¹</li>
</ol>
<pre><code>cd /opt/IBM/WebSphere/AppServer/profiles/AppSrv01/bin
./startNode.sh
</code></pre>
<p>æ‰§è¡Œç»“æœï¼š å“åº”å¤±è´¥ å…¶å®å·²ç»æˆåŠŸ åœ¨é¡µé¢å¯ä»¥è®¿é—®åˆ°è¯¥èŠ‚ç‚¹<img src="https://blog.liuzyhn.top/post-images/was/startnode0.png" alt=""><br>
æˆªå›¾<img src="https://blog.liuzyhn.top/post-images/was/startnode1.png" alt=""></p>
<h2 id="å…­-æ–°å»ºæœåŠ¡å™¨-åŠé…ç½®">å…­. æ–°å»ºæœåŠ¡å™¨ã€åŠé…ç½®</h2>
<p>ä»¥csä¸ºä¾‹ï¼š</p>
<p>å›¾1 <img src="https://blog.liuzyhn.top/post-images/was/server1.png" alt=""></br><br>
å›¾2 <img src="https://blog.liuzyhn.top/post-images/was/server2.png" alt=""></br><br>
å›¾3 <img src="https://blog.liuzyhn.top/post-images/was/server3.png" alt=""></br><br>
å›¾4 <img src="https://blog.liuzyhn.top/post-images/was/server4.png" alt=""></br><br>
å›¾5 <img src="https://blog.liuzyhn.top/post-images/was/server5.png" alt=""></br></p>
<p>ç‰¹å®šäºæœåŠ¡å™¨çš„åº”ç”¨ç¨‹åºè®¾ç½® å›¾6 <img src="https://blog.liuzyhn.top/post-images/was/server6.png" alt=""></br><br>
webå®¹å™¨è®¾ç½®ï¼š<br>
å›¾7-1 <img src="https://blog.liuzyhn.top/post-images/was/server7-1.png" alt=""> </br><br>
å›¾7-2 <img src="https://blog.liuzyhn.top/post-images/was/server7-2.png" alt=""> </br><br>
å›¾7-3 <img src="https://blog.liuzyhn.top/post-images/was/server7-3.png" alt=""> </br><br>
com.ibm.ws.webcontainer.extractHostHeaderPort=true </br><br>
trusthostheaderport=true </br></p>
<p>å›¾8-1 <img src="https://blog.liuzyhn.top/post-images/was/server8-1.png" alt=""> </br><br>
å›¾8-2 <img src="https://blog.liuzyhn.top/post-images/was/server8-2.png" alt=""> </br><br>
org.hibernate.jpa.HibernatePersistenceProvider</p>
<p>å›¾9-1 <img src="https://blog.liuzyhn.top/post-images/was/server9-1.png" alt=""> </br><br>
å›¾9-2 <img src="https://blog.liuzyhn.top/post-images/was/server9-2.png" alt=""> </br><br>
å›¾9-3 <img src="https://blog.liuzyhn.top/post-images/was/server9-3.png" alt=""> </br></p>
<p>å›¾10-1 <img src="https://blog.liuzyhn.top/post-images/was/server10-1.png" alt=""> </br><br>
å›¾10-2 <img src="https://blog.liuzyhn.top/post-images/was/server10-2.png" alt=""> </br><br>
å›¾10-3 <img src="https://blog.liuzyhn.top/post-images/was/server10-3.png" alt=""> </br><br>
å›¾10-4 <img src="https://blog.liuzyhn.top/post-images/was/server10-4.png" alt=""> </br><br>
com.ibm.websphere.persistence.ApplicationsExcludedFromJpaProcessing</p>
<p>å›¾10-5 <img src="https://blog.liuzyhn.top/post-images/was/server10-5.png" alt=""> </br><br>
å›¾10-6 <img src="https://blog.liuzyhn.top/post-images/was/server10-6.png" alt=""> </br><br>
com.ibm.websphere.persistence.ApplicationsExcludedFromJpaProcessing</p>
<h2 id="ä¸ƒ-é…ç½®ä¿®æ”¹-ä¼˜åŒ–">ä¸ƒ. é…ç½®ä¿®æ”¹ã€ä¼˜åŒ–</h2>
<ol>
<li>éƒ¨ç½²å†…å­˜ï¼š</li>
</ol>
<p>å›¾1 <img src="https://blog.liuzyhn.top/post-images/was/deployment-manager1.png" alt=""></br><br>
å›¾2 <img src="https://blog.liuzyhn.top/post-images/was/deployment-manager2.png" alt=""></br><br>
å›¾3 <img src="https://blog.liuzyhn.top/post-images/was/deployment-manager3.png" alt=""></br><br>
å›¾4 <img src="https://blog.liuzyhn.top/post-images/was/deployment-manager4.png" alt=""></br><br>
å›¾5 <img src="https://blog.liuzyhn.top/post-images/was/deployment-manager5.png" alt=""></br></p>
<ol start="2">
<li>æœåŠ¡å™¨å†…å­˜ï¼š</li>
</ol>
<p>å›¾1 <img src="https://blog.liuzyhn.top/post-images/was/server-manager1.png" alt=""></br><br>
å›¾2 <img src="https://blog.liuzyhn.top/post-images/was/server-manager2.png" alt=""></br><br>
å›¾3 <img src="https://blog.liuzyhn.top/post-images/was/server-manager3.png" alt=""></br><br>
å›¾4 <img src="https://blog.liuzyhn.top/post-images/was/server-manager4.png" alt=""></br><br>
å›¾5 <img src="https://blog.liuzyhn.top/post-images/was/server-manager5.png" alt=""></br></p>
<ol start="3">
<li>è™šæ‹Ÿä¸»æœºæ·»åŠ ç«¯å£å¼€æ”¾:<br>
<br>
ç”¨é€”ï¼š<br>
cu: 7080<br>
cs: 7081<br>
cb: 7082<br>
cc: 7083<br>
ce: 7084<br>
urule: 7085</li>
</ol>
<p>å›¾1 <img src="https://blog.liuzyhn.top/post-images/was/virtual_host_port1.png" alt=""></br><br>
å›¾2 <img src="https://blog.liuzyhn.top/post-images/was/virtual_host_port2.png" alt=""></br><br>
å›¾3 <img src="https://blog.liuzyhn.top/post-images/was/virtual_host_port3.png" alt=""></br><br>
å›¾4 <img src="https://blog.liuzyhn.top/post-images/was/virtual_host_port4.png" alt=""></br><br>
å›¾5 <img src="https://blog.liuzyhn.top/post-images/was/virtual_host_port5.png" alt=""></br></p>
<ol start="4">
<li>ä¿®æ”¹æœåŠ¡å™¨httpç«¯å£:</br><br>
<br>
ä»¥cuä¸ºä¾‹ï¼š</li>
</ol>
<p>å›¾1 <img src="https://blog.liuzyhn.top/post-images/was/server_port1.png" alt=""></br><br>
å›¾2 <img src="https://blog.liuzyhn.top/post-images/was/server_port2.png" alt=""></br><br>
å›¾3 <img src="https://blog.liuzyhn.top/post-images/was/server_port3.png" alt=""></br><br>
å›¾4 <img src="https://blog.liuzyhn.top/post-images/was/server_port4.png" alt=""></br></p>
<h2 id="å…«-æ·»åŠ æ•°æ®åº“é©±åŠ¨-jpaå…±äº«åº“">å…«. æ·»åŠ æ•°æ®åº“é©±åŠ¨ã€jpaå…±äº«åº“</h2>
<pre><code>antlr-2.7.7.jar 
geronimo-jta_1.1_spec-1.1.1.jar
hibernate-entitymanager-5.1.0.Final.jar
javassist-3.20.0-GA.jar
validation-api-1.1.0.Final.jar
classmate-1.3.0.jar
hibernate-commons-annotations-5.0.1.Final.jar
hibernate-jpa-2.1-api-1.0.0.Final.jar
javax.el-api-3.0.0.jar
dom4j-1.6.1.jar
hibernate-core-5.1.0.Final.jar
hibernate-validator-5.2.4.Final.jar
jboss-logging-3.3.0.Final.jar
</code></pre>
<p>å›¾1 <img src="https://blog.liuzyhn.top/post-images/was/db2_shared1.png" alt=""> </br><br>
å›¾2 <img src="https://blog.liuzyhn.top/post-images/was/db2_shared2.png" alt=""> </br><br>
å›¾3 <img src="https://blog.liuzyhn.top/post-images/was/db2_shared3.png" alt=""> </br><br>
å›¾4 <img src="https://blog.liuzyhn.top/post-images/was/db2_shared4.png" alt=""> </br></p>
<h2 id="ä¹-æ–°å»ºåº”ç”¨-åŠé…ç½®">ä¹. æ–°å»ºåº”ç”¨ã€åŠé…ç½®</h2>
<p>ä»¥cuä¸ºä¾‹:</p>
<p>å›¾1 <img src="https://blog.liuzyhn.top/post-images/was/addapp1.png" alt=""></br><br>
å›¾2 <img src="https://blog.liuzyhn.top/post-images/was/addapp2.png" alt=""></br><br>
å›¾3 <img src="https://blog.liuzyhn.top/post-images/was/addapp3.png" alt=""></br></p>
<p>å…±äº«åº“:<br>
å›¾5 <img src="https://blog.liuzyhn.top/post-images/was/addapp5.png" alt=""> </br><br>
å›¾6 <img src="https://blog.liuzyhn.top/post-images/was/addapp6.png" alt=""> </br></p>

            </div>
            
            
              <div class="next-post">
                <div class="next">ä¸‹ä¸€ç¯‡</div>
                <a href="https://blog.liuzyhn.top/post/urlsource">
                  <h3 class="post-title">
                    é“¾æ¥èµ„æº
                  </h3>
                </a>
              </div>
            

            
              
                <div id="gitalk-container" data-aos="fade-in"></div>
              

              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: 'ac7ca979526c2aac4403',
        clientSecret: '2aa26bb1921e4e73b9a1548335a24ea001023a8e',
        repo: 'liuzyhn.github.io',
        owner: 'liuzyhn',
        admin: ['liuzyhn'],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
